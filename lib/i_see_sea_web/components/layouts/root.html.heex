<!DOCTYPE html>
<html data-theme="base" lang="en" class="">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="csrf-token" content={get_csrf_token()} />
    <.live_title suffix=" Â· Phoenix Framework">
      <%= assigns[:page_title] || "ISeeSea" %>
    </.live_title>
    <link phx-track-static rel="stylesheet" href={~p"/assets/app.css"} />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.5.3/MarkerCluster.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.5.3/MarkerCluster.Default.css"
      rel="stylesheet"
    />
    <script defer phx-track-static type="text/javascript" src={~p"/assets/app.js"}>
    </script>
  </head>
  <body class="bg-white h-screen w-screen">
    <nav class="flex relative pb-0.5 w-full shadow-md mb-4">
      <!-- SVG for wave background -->
      <svg
        class="absolute z-0"
        width="100%"
        height="180px"
        viewBox="0 0 100 25"
        preserveAspectRatio="none"
      >
        <g transform="scale(-1, 1) translate(-100, 0)">
          <path
            d="M0 0 V10
        Q13 15 50 8
        Q14 15 50 8
        Q15 15 50 8
        Q16 15 50 8
        Q17 15 50 8
        Q18 15 50 8
        Q19 15 50 8
        Q20 15 50 8
        T100 8.5 V0z"
            fill="rgb(212, 241, 244)"
            opacity="1"
          />
          <path
            d="M0 0 V10
        Q18 13 53 6.5 
        Q19 13 53 6.5 
        Q20 13 53 6.5 
        Q21 13 53 6.5 
        Q22 13 53 6.5 
        Q23 13 53 6.5 
        Q24 13 53 6.5 
        Q25 13 53 6.5 
        T100 6 V0z"
            fill="rgb(117, 230, 218)"
            opacity="0.4"
          />
          <path
            d="M0 0 V9 
        Q16 12 45 6 
        Q9 12 45 6 
        Q10 12 45 6 
        Q11 12 45 6 
        Q12 12 45 6 
        Q13 12 45 6 
        Q14 12 45 6 
        Q15 12 45 6 
        T100 4 V0z"
            fill="rgb(24, 154, 180)"
            opacity="0.9"
          />
        </g>
      </svg>
      <!-- Navigation bar content -->
      <div class="px-30 w-10/12">
        <div class="flex w-full justify-between items-baseline">
          <!-- Logo -->
          <div class="relative w-28 top-2 left-2 sm:w-16 md:w-24 lg:w-28">
            <img class="z-10 w-full h-auto" src="/images/Assetss/ICC-logo.png" />
          </div>

          <div class="flex w-4/5 justify-around mb-2">
            <!-- Buttons for larger screens -->
            <div class="hidden sm:flex w-5/5 justify-around space-x-1">
              <.link class="z-10" navigate={~p"/"}>
                <button class="btn md:min-w-32">
                  <%= gettext("Home") %>
                </button>
              </.link>
              <.link class="z-10" navigate={~p"/profile"}>
                <button class="btn md:min-w-32">
                  <%= gettext("Profile") %>
                </button>
              </.link>
              <.link class="z-10" navigate={~p"/reports-list"}>
                <button class="btn md:min-w-32">
                  <%= gettext("Reports") %>
                </button>
              </.link>
              <div class="dropdown dropdown-bottom">
                <div tabindex="0" role="button" class="btn flex-1 md:min-w-32">More</div>
                <ul
                  tabindex="0"
                  class="dropdown-content menu bg-base-100 rounded-box z-50 w-52 p-2 shadow"
                >
                  <li><a><%= gettext("Terms of use") %></a></li>
                  <li><a><%= gettext("Our purpose") %></a></li>
                  <li><a><%= gettext("Contacts") %></a></li>
                  <li><a><%= gettext("Privacy and policy") %></a></li>
                </ul>
              </div>
            </div>
            <!-- Mobile Menu Button -->
            <div class="flex w-4/5 justify-center mr-4 sm:hidden">
              <div class="slider-container">
                <!-- Left arrow -->
                <button class="arrow-left hidden">
                  <svg
                    width="18pt"
                    height="18pt"
                    version="1.1"
                    viewBox="0 0 1200 1200"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="white"
                    stroke="white"
                    stroke-width="50"
                  >
                    <path d="m646.88 600 276-276c21.066-21.094 32.902-49.688 32.902-79.5s-11.836-58.406-32.902-79.5l-58.125-58.125c-21.078-20.953-49.59-32.715-79.312-32.715s-58.234 11.762-79.312 32.715l-439.88 440.25c-13.969 14.051-21.809 33.062-21.809 52.875s7.8398 38.824 21.809 52.875l439.88 440.25c21.078 20.953 49.59 32.715 79.312 32.715s58.234-11.762 79.312-32.715l58.125-58.125c21.066-21.094 32.902-49.688 32.902-79.5s-11.836-58.406-32.902-79.5zm223.12 381.75-58.125 58.125c-7.0273 6.9844-16.531 10.906-26.438 10.906s-19.41-3.9219-26.438-10.906l-439.88-439.88 439.88-439.88c7.0273-6.9844 16.531-10.906 26.438-10.906s19.41 3.9219 26.438 10.906l58.125 58.125c6.8711 7.0117 10.719 16.434 10.719 26.25s-3.8477 19.238-10.719 26.25l-276 276.38c-13.969 14.051-21.809 33.062-21.809 52.875s7.8398 38.824 21.809 52.875l276 276.38c6.8711 7.0117 10.719 16.434 10.719 26.25s-3.8477 19.238-10.719 26.25z" />
                  </svg>
                </button>
                <!-- The slider itself -->
                <div class="slider-wrapper">
                  <button class="slider-item" phx-click="navigate" phx-value-view="main_view">
                    Home
                  </button>
                  <button
                    class="slider-item"
                    phx-click="navigate"
                    phx-value-view="my_profile_view"
                  >
                    Profile
                  </button>
                  <button class="slider-item" phx-click="navigate" phx-value-view="reports_view">
                    Reports
                  </button>
                  <button class="slider-item" phx-click="navigate" phx-value-view="purpose_view">
                    Our purpose
                  </button>
                  <button
                    class="slider-item"
                    phx-click="navigate"
                    phx-value-view="terms_and_conditions_view"
                  >
                    Terms and Conditions
                  </button>
                  <button
                    class="slider-item"
                    phx-click="navigate"
                    phx-value-view="privacy_policy_view"
                  >
                    Privacy Policy
                  </button>
                  <button class="slider-item" phx-click="navigate" phx-value-view="about_us_view">
                    About us
                  </button>
                </div>
                <!-- Right arrow -->
                <button class="arrow-right">
                  <svg
                    width="18pt"
                    height="18pt"
                    version="1.1"
                    viewBox="0 0 1200 1200"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="white"
                    stroke="white"
                    stroke-width="50"
                  >
                    <g transform="rotate(180, 600, 600)">
                      <path d="m646.88 600 276-276c21.066-21.094 32.902-49.688 32.902-79.5s-11.836-58.406-32.902-79.5l-58.125-58.125c-21.078-20.953-49.59-32.715-79.312-32.715s-58.234 11.762-79.312 32.715l-439.88 440.25c-13.969 14.051-21.809 33.062-21.809 52.875s7.8398 38.824 21.809 52.875l439.88 440.25c21.078 20.953 49.59 32.715 79.312 32.715s58.234-11.762 79.312-32.715l58.125-58.125c21.066-21.094 32.902-49.688 32.902-79.5s-11.836-58.406-32.902-79.5zm223.12 381.75-58.125 58.125c-7.0273 6.9844-16.531 10.906-26.438 10.906s-19.41-3.9219-26.438-10.906l-439.88-439.88 439.88-439.88c7.0273-6.9844 16.531-10.906 26.438-10.906s19.41 3.9219 26.438 10.906l58.125 58.125c6.8711 7.0117 10.719 16.434 10.719 26.25s-3.8477 19.238-10.719 26.25l-276 276.38c-13.969 14.051-21.809 33.062-21.809 52.875s7.8398 38.824 21.809 52.875l276 276.38c6.8711 7.0117 10.719 16.434 10.719 26.25s-3.8477 19.238-10.719 26.25z" />
                    </g>
                  </svg>
                </button>
              </div>
            </div>
          </div>
          <!-- User and login images -->
        </div>
      </div>
      <div class="flex flex-row justify-center align-middle w-2/12">
        <button class="z-20 md:w-[70px] md:h-[70px] sm:w-[30px] sm:h-[30px] mt-16 bg-cover">
          <img src="/images/Assetss/bulgaria.png" class="otvara1" />
        </button>
        <button class="z-20 mt-[70px] md:w-[57px] md:h-[57px] sm:w-[17px] sm:h-[17px] bg-cover">
          <img src="/images/auth_icons/login.svg" class="otvara" />
        </button>
      </div>
    </nav>
    <div class="relative w-full h-4/6">
      <%= @inner_content %>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
        const wrapper = document.querySelector('.slider-wrapper');
        const items = document.querySelectorAll('.slider-item');
        const leftArrow = document.querySelector('.arrow-left');
        const rightArrow = document.querySelector('.arrow-right');
        let currentIndex = 0;

        function showItem(index) {
          const offset = -index * 100; // Calculate the offset for the current item
          wrapper.style.transform = `translateX(${offset}%)`;
          updateArrows(); // Update arrow visibility
        }

        // Left arrow click (swipe right)
        leftArrow.addEventListener('click', () => {
          if (currentIndex > 0) {
            currentIndex--;
            showItem(currentIndex);
          }
        });

        // Right arrow click (swipe left)
        rightArrow.addEventListener('click', () => {
          if (currentIndex < items.length - 1) {
            currentIndex++;
            showItem(currentIndex);
          }
        });

        // Handle swipe gestures for touchscreens
        let touchStartX = 0;
        let touchEndX = 0;

        wrapper.addEventListener('touchstart', e => {
          touchStartX = e.changedTouches[0].screenX;
        });

        wrapper.addEventListener('touchend', e => {
          touchEndX = e.changedTouches[0].screenX;
          handleSwipe();
        });

        function handleSwipe() {
          if (touchEndX < touchStartX && currentIndex < items.length - 1) {
            currentIndex++;
            showItem(currentIndex);
          } else if (touchEndX > touchStartX && currentIndex > 0) {
            currentIndex--;
            showItem(currentIndex);
          }
        }

        // Show/hide the left and right arrows based on the current item
        function updateArrows() {
          if (currentIndex === 0) {
            leftArrow.classList.add('hidden');
          } else {
            leftArrow.classList.remove('hidden');
          }

          if (currentIndex === items.length - 1) {
            rightArrow.classList.add('hidden');
          } else {
            rightArrow.classList.remove('hidden');
          }
        }

        showItem(currentIndex); // Initialize
      });
    </script>
  </body>
</html>
